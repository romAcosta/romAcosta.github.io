<!DOCTYPE html>
<html lang="en">
<head>
	<script type="module">
		import { apiRequest } from "./apiConfig.js"

		async function login() {
			const username = document.getElementById("username").value;
			const password = document.getElementById("password").value;

			try {
				const url = await apiRequest(`/login/verify/${username}/${password}`);
				const response = await fetch(url);
				const result = await response.text();

				if (result === "Success") {
					sessionStorage.setItem("username", username);
					window.location.href = "index.html";
				} else {
					alert(result);
				}
			} catch (error) {
				console.error("Error during login:", error);
			}
		}

		document.addEventListener("DOMContentLoaded", () => {
			document.getElementById("login-btn").addEventListener("click", login);
		});

	</script>
	<link rel="stylesheet" href="scattergoriesTogether.css">
</head>
<body>
	<div class="container">
		<h1>
			Login
		</h1>

		<label for="username">Username:</label>
		<input type="text" id="username" placeholder="Enter Username" required>

		<label for="password">Password:</label>
		<input type="password" id="password" placeholder="Enter Password" required>

		<h1>
			<button id="login-btn">Login</button>

			<button onclick="window.location.href='register.html'">To Register</button>
		</h1>
	</div>
</body>
</html>